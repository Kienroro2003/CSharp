@page "/"

<PageTitle>Sword Damage</PageTitle>

<div class="container">
    <div class="row">
        <div class="row">
            <div class="d-flex col justify-content-start">
                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" @onchange="()=>SetFlaming(this.isFlamming)">
                <label class="form-check-label" for="flexCheckDefault">
                    Flame
                </label>
            </div>
            <div class="d-flex col justify-content-start">
                <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" @onchange="()=>SetMagic(this.isMagic)">
                <label class="form-check-label" for="flexCheckChecked">
                    Magic
                </label>
            </div>
        </div>
        <div class="row mt-2">
            <button class="btn btn-primary" type="button" @onclick="RollDice">Roll for Damage</button>
        </div>
        <div class="row">@text</div>
    </div>
</div>

@code{
    Random ramdom = new Random();
    SwordDamage swordDamage = new SwordDamage();
    bool isMagic = false;
    bool isFlamming = false;
    string text = string.Empty;
    int roll;
    protected override void OnInitialized()
    {
        
    }


    void SetFlaming(bool isFlamming)
    {
        swordDamage.SetFlamimg(isFlamming);
        this.isFlamming = !isFlamming;
    }

    void SetMagic(bool isMagic)
    {
        swordDamage.SetMagic(isMagic);
        this.isMagic = !isMagic;
    }

    void RollDice()
    {
        swordDamage.Roll = ramdom.Next(1, 7) + ramdom.Next(1, 7) + ramdom.Next(1, 7);
        DisplayDamage();
    }

    void DisplayDamage()
    {
        text = "Rolled " + swordDamage.Roll + " for " + swordDamage.Damage + " HP";
    }

}